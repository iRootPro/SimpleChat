{"version":3,"sources":["components/Network/Chat/styles.module.css","components/Network/Chat/Message/styles.module.css","components/UnRegister/styles.module.css","components/Network/styles.module.css","reducers/user.ts","components/UnRegister/index.tsx","assets/icons/remove.jpg","components/Network/Chat/Message/index.tsx","assets/icons/edit.png","components/Network/Chat/index.tsx","components/Network/index.tsx","reducers/app.ts","App.tsx","app/store.ts","index.tsx"],"names":["module","exports","initialState","name","messages","currentChat","setUserName","type","UnRegister","useSelector","state","user","useState","regName","setRegName","dispatch","useDispatch","to","savedName","localStorage","getItem","className","styles","wrap","registerBlock","text","input","placeholder","onChange","e","value","currentTarget","btn","onClick","setItem","Message","id","author","message","time","editMode","setEditMode","editMessage","setEditMessage","width","src","alt","removeMessage","removeIcon","wrapModal","editModal","modalTitle","inputEdit","handleChangeInput","buttonModal","updateMessage","modalBtn","Chat","messageChat","filter","msg","chat","inputMessage","setInputMessage","content","map","handleClickChat","setCurrentChat","chats","cn","chatName","chatNameActive","nameUser","messageBlock","inputBlock","onKeyPress","key","Date","toISOString","split","stringTime","handleKeyPress","Network","isInit","App","app","messagesDb","exact","path","rootReducer","combineReducers","action","newMessage","uuid","newMessages","push","store","createStore","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"8FACAA,EAAOC,QAAU,CAAC,KAAO,qBAAqB,MAAQ,sBAAsB,SAAW,yBAAyB,eAAiB,+BAA+B,OAAS,uBAAuB,SAAW,yBAAyB,aAAe,6BAA6B,MAAQ,sBAAsB,WAAa,2BAA2B,aAAe,+B,mBCArWD,EAAOC,QAAU,CAAC,KAAO,qBAAqB,OAAS,uBAAuB,KAAO,qBAAqB,UAAY,0BAA0B,UAAY,0BAA0B,WAAa,2BAA2B,UAAY,0BAA0B,YAAc,4BAA4B,SAAW,2B,mBCAzTD,EAAOC,QAAU,CAAC,KAAO,qBAAqB,cAAgB,8BAA8B,KAAO,qBAAqB,MAAQ,sBAAsB,IAAM,sB,mBCA5JD,EAAOC,QAAU,CAAC,KAAO,uB,qwBCSnBC,EAAkC,CACpCC,KAAM,GACNC,SAAU,GACVC,YAAa,QA4CJC,EAAc,SAACH,GACxB,MAAO,CAACI,KAvDS,eAuDWJ,S,OCXjBK,EAxCI,WAAO,IACfL,EAAQM,aAA8C,SAAAC,GAAK,OAAIA,EAAMC,QAArER,KADc,EAESS,mBAAiB,IAF1B,mBAEdC,EAFc,KAELC,EAFK,KAGfC,EAAWC,cAEjB,GAAGb,EACC,OAAO,cAAC,IAAD,CAAUc,GAAI,aAGzB,IAAMC,EAAYC,aAAaC,QAAQ,QACnCF,GACAH,EAAST,EAAYY,IAgBzB,OACI,qBAAKG,UAAWC,IAAOC,KAAvB,SACI,sBAAKF,UAAWC,IAAOE,cAAvB,UACI,sBAAMH,UAAWC,IAAOG,KAAxB,gFACA,uBAAOJ,UAAWC,IAAOI,MAAOnB,KAAK,OAAOoB,YAAa,6EAClDC,SAAU,SAACC,GAAD,OAlBFC,EAkB2BD,EAAEE,cAAcD,WAjBlEhB,EAAWgB,GADW,IAACA,KAmBf,wBAAQT,UAAWC,IAAOU,IAAKC,QAfd,WACT,KAAZpB,IACAM,aAAae,QAAQ,OAAQrB,GAC7BE,EAAST,EAAYO,IACrBC,EAAW,MAWP,gI,2DCxCD,MAA0B,mCCkE1BqB,EA1DC,SAAC,GAA4C,IAA3CC,EAA0C,EAA1CA,GAAIC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,QAASC,EAAqB,EAArBA,KAC5BpC,EAAQM,aAA8C,SAAAC,GAAK,OAAIA,EAAMC,QAArER,KADiD,EAExBS,oBAAkB,GAFM,mBAEjD4B,EAFiD,KAEvCC,EAFuC,OAGlB7B,mBAAiB,IAHC,mBAGjD8B,EAHiD,KAGpCC,EAHoC,KAIlD5B,EAAWC,cAyBjB,OACI,qCACI,sBAAKK,UAAWC,IAAOC,KAAvB,UACI,uBAAMF,UAAWC,IAAOe,OAAxB,UAAiCA,EAAjC,OADJ,IACqD,+BAAOC,IAD5D,IAC4E,uBACxEjB,UAAWC,IAAOiB,KADsD,UAC/CA,EAD+C,OACjCF,IAAWlC,EAClD,iCACI,sBAAM8B,QA9BE,WACpBQ,GAAY,GACZE,EAAeL,IA4BH,SAAgC,qBAAKM,MAAM,OAAOC,IC3CvD,qhID2CsEC,IAAI,eACrE,sBAAMb,QAXI,WACtBlB,EH2CqB,SAACqB,GAC1B,MAAO,CAAC7B,KAtEW,iBAsEW6B,MG5CjBW,CAAcX,KAUX,SAAkC,qBAAKQ,MAAM,OAAOC,IAAKG,EAAYF,IAAI,kBACnE,MAEbN,EACG,qBAAKnB,UAAWC,IAAO2B,UAAvB,SACI,sBAAK5B,UAAWC,IAAO4B,UAAvB,UACI,sBAAM7B,UAAWC,IAAO6B,WAAxB,yJACA,uBAAO9B,UAAWC,IAAO8B,UAAW7C,KAAK,OAAOuB,MAAOY,EAChDd,SAAU,SAACC,GAAD,OA7BX,SAACS,GACvBK,EAAeL,GA4ByBe,CAAkBxB,EAAEE,cAAcD,UAC1D,sBAAKT,UAAWC,IAAOgC,YAAvB,UACI,wBAAQrB,QA3BJ,WACxBlB,EH6CqB,SAACuB,GAC1B,MAAO,CAAC/B,KAnEW,iBAmEW+B,WG9CjBiB,CAAc,CAACnB,KAAIE,QAASI,KACrCD,GAAY,GACZE,EAAe,KAwB2CtB,UAAWC,IAAOkC,SAAxD,oEACA,wBAAQvB,QArCN,WACtBQ,GAAY,GACZE,EAAe,KAmCyCtB,UAAWC,IAAOkC,SAAtD,0DAIV,OEKHC,EAxDF,WAAO,IAAD,EACuBhD,aAA8C,SAAAC,GAAK,OAAIA,EAAMC,QAA5FP,EADQ,EACRA,SAAUC,EADF,EACEA,YAAaF,EADf,EACeA,KACxBuD,EAActD,EAASuD,QAAO,SAAAC,GAAG,OAAIA,EAAIC,OAASxD,KAFzC,EAGyBO,mBAAS,IAHlC,mBAGRkD,EAHQ,KAGMC,EAHN,KAIThD,EAAWC,cAEXgD,EAAUN,EAAYO,KAAI,SAAAL,GAAG,OAAI,cAAC,EAAD,CAAsBxB,GAAIwB,EAAIxB,GAAIC,OAAQuB,EAAIvB,OAAQE,KAAMqB,EAAIrB,KACvDD,QAASsB,EAAItB,SADRsB,EAAIxB,OAGnD8B,EAAkB,SAACL,GACrBE,EAAgB,IAChBhD,EL8CsB,SAAC8C,GAC3B,MAAO,CAACtD,KA7Da,mBA6DWsD,QK/CnBM,CAAeN,KAuB5B,OACI,sBAAKxC,UAAWC,IAAOC,KAAvB,UACI,sBAAKF,UAAWC,IAAO8C,MAAvB,UACI,sBAAM/C,UAAWgD,IAAG/C,IAAOgD,SAAR,eAAoBhD,IAAOiD,eAAiB,SAAWlE,IACpE4B,QAAS,kBAAMiC,EAAgB,SADrC,kBAEA,sBAAM7C,UAAWgD,IAAG/C,IAAOgD,SAAR,eAAoBhD,IAAOiD,eAAiB,UAAYlE,IACrE4B,QAAS,kBAAMiC,EAAgB,UADrC,mBAEA,sBAAM7C,UAAWC,IAAOkD,SAAxB,SAAmCrE,OAEvC,qBAAKkB,UAAWC,IAAOmD,aAAvB,SAAsCT,IACtC,qBAAK3C,UAAWC,IAAOoD,WAAvB,SACI,uBAAOrD,UAAWC,IAAOwC,aAAca,WAAY,SAAC9C,GAAD,OA3BxC,SAAC+C,GACpB,GAAY,UAARA,EAAiB,CACjB,IAAMrC,GAAO,IAAIsC,MAAOC,cAAcC,MAAM,KAAK,GAAGA,MAAM,KACpDC,EAAU,UAAMzC,EAAK,GAAX,YAAiBA,EAAK,IACtCxB,ELwCD,CAACR,KAhEY,kBAgEW+B,QKxCA,CACnBA,QAASwB,EACTvB,KAAMyC,EACN5C,GAAI,GACJyB,KAAMxD,EACNgC,OAAQlC,KAEZ4D,EAAgB,KAgB8CkB,CAAepD,EAAE+C,MAAMrE,KAAK,OAC/EoB,YAAa,4JACbC,SAAU,SAACC,GAAD,OAjCD+B,EAiC2B/B,EAAEE,cAAcD,WAhCnEiC,EAAgBH,GADO,IAACA,GAkCT9B,MAAOgC,U,iBCpCfoB,EAbC,WAEZ,OADezE,aAA8C,SAAAC,GAAK,OAAIA,EAAMC,QAArER,KAMH,qBAAKkB,UAAWC,IAAOC,KAAvB,SACI,cAAC,EAAD,MALG,cAAC,IAAD,CAAUN,GAAI,OCRvBf,EAAiC,CACnCiF,QAAQ,G,QC0BGC,MAnBf,WAAgB,IACLD,EAAU1E,aAA6C,SAAAC,GAAK,OAAIA,EAAM2E,OAAtEF,OACDpE,EAAWC,cAKjB,OAJKmE,IACDpE,ERgDG,CAACR,KA1DS,eA0DWH,SQhDHkF,IACrBvE,EDEG,CAACR,KAjBQ,iBCkBZ,cAAC,IAAD,UACI,8BACI,eAAC,IAAD,WACI,cAAC,IAAD,CAAOgF,OAAK,EAACC,KAAM,IAAnB,SAAwB,cAAC,EAAD,MACxB,cAAC,IAAD,CAAOA,KAAM,WAAb,SAAyB,cAAC,EAAD,c,QClBvCC,EAAcC,YAAgB,CAChC/E,KTWuB,WAAqF,IAApFD,EAAmF,uDAAxDR,EAAcyF,EAA0C,uCAC3G,OAAQA,EAAOpF,MACX,IAAK,eACD,OAAO,2BAAIG,GAAX,IAAkBP,KAAMwF,EAAOxF,OAEnC,IAAK,eACD,OAAO,2BAAIO,GAAX,IAAkBN,SAAS,YAAKuF,EAAOvF,YAE3C,IAAK,mBACD,OAAO,2BAAIM,GAAX,IAAkBL,YAAasF,EAAO9B,OAE1C,IAAK,kBACD,IAAM+B,EAAU,2BACTD,EAAOrD,SADE,IAEZF,GAAIyD,gBAER,OAAO,2BAAInF,GAAX,IAAkBN,SAAS,GAAD,mBAAMM,EAAMN,UAAZ,CAAsBwF,MAEpD,IAAK,iBACD,IAAME,EAAkC,GAWxC,OAVApF,EAAMN,SAAS6D,KAAI,SAAAL,GACXA,EAAIxB,KAAOuD,EAAOrD,QAAQF,GAC1B0D,EAAYC,KAAZ,2BACOnC,GADP,IAEItB,QAASqD,EAAOrD,QAAQA,WAG5BwD,EAAYC,KAAKnC,MAGlB,2BAAIlD,GAAX,IAAkBN,SAAU0F,IAEhC,IAAK,iBACD,IAAMA,EAAcpF,EAAMN,SAASuD,QAAO,SAAAC,GAAG,OAAIA,EAAIxB,KAAOuD,EAAOvD,MACnE,OAAO,2BAAI1B,GAAX,IAAkBN,SAAU0F,IAEhC,QACI,OAAOpF,IS/Cf2E,IFAsB,WAAmF,IAAlF3E,EAAiF,uDAAvDR,EAAcyF,EAAyC,uCACxG,OAAQA,EAAOpF,MACX,IAAK,cACD,OAAO,2BAAIG,GAAX,IAAkByE,QAAQ,IAE9B,QACI,OAAOzE,MEJNsF,EAAQC,YAAYR,GCFjCS,IAASC,OACL,cAAC,IAAMC,WAAP,UACI,cAAC,IAAD,CAAUJ,MAAOA,EAAjB,SACI,cAAC,EAAD,QAGRK,SAASC,eAAe,W","file":"static/js/main.5d0dc48d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"styles_wrap__3FN2C\",\"chats\":\"styles_chats__2b3wf\",\"chatName\":\"styles_chatName__3rOAV\",\"chatNameActive\":\"styles_chatNameActive__Ji9Mn\",\"logout\":\"styles_logout__2hLte\",\"nameUser\":\"styles_nameUser__2wOGo\",\"messageBlock\":\"styles_messageBlock__1Fr7x\",\"input\":\"styles_input__1Udfz\",\"inputBlock\":\"styles_inputBlock__VkI1r\",\"inputMessage\":\"styles_inputMessage__3xORe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"styles_wrap__2wXUp\",\"author\":\"styles_author__1-LjO\",\"time\":\"styles_time__o0VLa\",\"editModal\":\"styles_editModal__1iv6-\",\"wrapModal\":\"styles_wrapModal__159ws\",\"modalTitle\":\"styles_modalTitle__RJYKc\",\"inputEdit\":\"styles_inputEdit__1Q3dd\",\"buttonModal\":\"styles_buttonModal__1_dx2\",\"modalBtn\":\"styles_modalBtn__2Cixv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"styles_wrap__21Sv7\",\"registerBlock\":\"styles_registerBlock__2QRGf\",\"text\":\"styles_text__1XbFC\",\"input\":\"styles_input__3MP3Z\",\"btn\":\"styles_btn__3BA2J\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"styles_wrap__sOjG2\"};","import {v4 as uuid} from 'uuid'\n\n\nconst SET_USERNAME = 'SET_USERNAME'\nconst SET_MESSAGES = 'SET_MESSAGES'\nconst SET_CURRENT_CHAT = 'SET_CURRENT_CHAT'\nconst ADD_NEW_MESSAGE = 'ADD_NEW_MESSAGE'\nconst UPDATE_MESSAGE = 'UPDATE_MESSAGE'\nconst REMOVE_MESSAGE = 'REMOVE_MESSAGE'\n\nconst initialState: userInitTypeState = {\n    name: '',\n    messages: [],\n    currentChat: 'work'\n}\n\nexport const userReducer = (state: userInitTypeState = initialState, action: ActionType): userInitTypeState => {\n    switch (action.type) {\n        case \"SET_USERNAME\": {\n            return {...state, name: action.name}\n        }\n        case \"SET_MESSAGES\": {\n            return {...state, messages: [...action.messages]}\n        }\n        case \"SET_CURRENT_CHAT\": {\n            return {...state, currentChat: action.chat}\n        }\n        case \"ADD_NEW_MESSAGE\": {\n            const newMessage = {\n                ...action.message,\n                id: uuid()\n            }\n            return {...state, messages: [...state.messages, newMessage]}\n        }\n        case \"UPDATE_MESSAGE\": {\n            const newMessages: Array<MessageType> = []\n            state.messages.map(msg => {\n                if (msg.id === action.message.id) {\n                    newMessages.push({\n                        ...msg,\n                        message: action.message.message\n                    })\n                } else {\n                    newMessages.push(msg)\n                }\n            })\n            return {...state, messages: newMessages}\n        }\n        case \"REMOVE_MESSAGE\": {\n            const newMessages = state.messages.filter(msg => msg.id !== action.id)\n            return {...state, messages: newMessages}\n        }\n        default:\n            return state\n    }\n}\n\nexport const setUserName = (name: string) => {\n    return {type: SET_USERNAME, name} as const\n}\n\nexport const setMessages = (messages: Array<MessageType>) => {\n    return {type: SET_MESSAGES, messages} as const\n}\n\nexport const setCurrentChat = (chat: string) => {\n    return {type: SET_CURRENT_CHAT, chat} as const\n}\n\nexport const addNewMessage = (message: MessageType) => {\n    return {type: ADD_NEW_MESSAGE, message} as const\n}\n\nexport const updateMessage = (message: updateMessageType) => {\n    return {type: UPDATE_MESSAGE, message} as const\n}\n\nexport const removeMessage = (id: string) => {\n    return {type: REMOVE_MESSAGE, id} as const\n}\n\ntype ActionType =\n    | ReturnType<typeof setUserName>\n    | ReturnType<typeof setMessages>\n    | ReturnType<typeof setCurrentChat>\n    | ReturnType<typeof addNewMessage>\n    | ReturnType<typeof updateMessage>\n    | ReturnType<typeof removeMessage>\n\n\nexport type userInitTypeState = {\n    name: string\n    messages: Array<MessageType>\n    currentChat: string\n}\n\nexport type MessageType = {\n    id: string\n    author: string\n    chat: string\n    message: string\n    time: string\n}\n\nexport type updateMessageType = {\n    id: string\n    message: string\n}\n","import React, {useState} from 'react';\nimport {Redirect} from 'react-router-dom';\nimport styles from './styles.module.css'\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {setUserName, userInitTypeState} from \"../../reducers/user\";\nimport {RootStateType} from \"../../app/store\";\n\nconst UnRegister = () => {\n    const {name} = useSelector<RootStateType, userInitTypeState>(state => state.user)\n    const [regName, setRegName] = useState<string>('')\n    const dispatch = useDispatch()\n\n    if(name) {\n        return <Redirect to={'/network'}/>\n    }\n\n    const savedName = localStorage.getItem('name')\n    if (savedName) {\n        dispatch(setUserName(savedName))\n    }\n\n    const handleChangeInput = (value: string) => {\n        setRegName(value)\n    }\n\n    const handleRegisterButton = () => {\n        if (regName !== '') {\n            localStorage.setItem('name', regName)\n            dispatch(setUserName(regName))\n            setRegName('')\n        }\n\n    }\n\n    return (\n        <div className={styles.wrap}>\n            <div className={styles.registerBlock}>\n                <span className={styles.text}>Регистрация</span>\n                <input className={styles.input} type=\"text\" placeholder={'Введи своё имя'}\n                       onChange={(e) => handleChangeInput(e.currentTarget.value)}/>\n                <button className={styles.btn} onClick={handleRegisterButton}>Зарегистрироваться</button>\n            </div>\n\n        </div>\n    );\n};\n\nexport default UnRegister;\n","export default __webpack_public_path__ + \"static/media/remove.aaa025ca.jpg\";","import React, {useState} from 'react';\nimport styles from './styles.module.css'\nimport removeIcon from './../../../../assets/icons/remove.jpg'\nimport editIcon from './../../../../assets/icons/edit.png'\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {RootStateType} from \"../../../../app/store\";\nimport {removeMessage, updateMessage, userInitTypeState} from \"../../../../reducers/user\";\n\nconst Message = ({id, author, message, time}: propsType) => {\n    const {name} = useSelector<RootStateType, userInitTypeState>(state => state.user)\n    const [editMode, setEditMode] = useState<boolean>(false)\n    const [editMessage, setEditMessage] = useState<string>('')\n    const dispatch = useDispatch()\n    const handleClickEdit = () => {\n        setEditMode(true)\n        setEditMessage(message)\n    }\n\n    const handleClickCancel = () => {\n        setEditMode(false)\n        setEditMessage('')\n    }\n\n    const handleChangeInput = (message: string) => {\n        setEditMessage(message)\n    }\n\n    const handleClickSaveEdit = () => {\n        dispatch(updateMessage({id, message: editMessage}))\n        setEditMode(false)\n        setEditMessage('')\n    }\n\n    const handleClickRemove = () => {\n        dispatch(removeMessage(id))\n    }\n\n    return (\n        <>\n            <div className={styles.wrap}>\n                <span className={styles.author}>{author}:</span> <span>{message}</span> <span\n                className={styles.time}>{time} </span>{author === name ?\n                <span>\n                    <span onClick={handleClickEdit}><img width='10px' src={editIcon} alt=\"editIcon\"/></span>\n                    <span onClick={handleClickRemove}><img width='12px' src={removeIcon} alt=\"editIcon\"/></span>\n                </span> : ''}\n            </div>\n            {editMode ?\n                <div className={styles.wrapModal}>\n                    <div className={styles.editModal}>\n                        <span className={styles.modalTitle}>Редактирование сообщения</span>\n                        <input className={styles.inputEdit} type=\"text\" value={editMessage}\n                               onChange={(e) => handleChangeInput(e.currentTarget.value)}/>\n                        <div className={styles.buttonModal}>\n                            <button onClick={handleClickSaveEdit} className={styles.modalBtn}>Сохранить</button>\n                            <button onClick={handleClickCancel} className={styles.modalBtn}>Отмена</button>\n                        </div>\n                    </div>\n                </div>\n                : ''\n            }\n\n        </>\n    );\n};\n\nexport default Message;\n\ntype propsType = {\n    id: string\n    author: string\n    time: string\n    message: string\n}\n","export default \"data:image/png;base64,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\"","import React, {useState} from 'react';\nimport cn from 'classnames'\nimport styles from './styles.module.css'\nimport Message from \"./Message\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {RootStateType} from \"../../../app/store\";\nimport {addNewMessage, setCurrentChat, userInitTypeState} from \"../../../reducers/user\";\n\nconst Chat = () => {\n    const {messages, currentChat, name} = useSelector<RootStateType, userInitTypeState>(state => state.user)\n    const messageChat = messages.filter(msg => msg.chat === currentChat)\n    const [inputMessage, setInputMessage] = useState('')\n    const dispatch = useDispatch()\n\n    const content = messageChat.map(msg => <Message key={msg.id} id={msg.id} author={msg.author} time={msg.time}\n                                                    message={msg.message}/>)\n\n    const handleClickChat = (chat: string) => {\n        setInputMessage('')\n        dispatch(setCurrentChat(chat))\n    }\n\n    const handleInputMessage = (msg: string) => {\n        setInputMessage(msg)\n    }\n\n    const handleKeyPress = (key: string) => {\n        if (key === 'Enter') {\n            const time = new Date().toISOString().split('T')[1].split(':')\n            const stringTime = `${time[0]}:${time[1]}`\n            dispatch(addNewMessage({\n                message: inputMessage,\n                time: stringTime,\n                id: '',\n                chat: currentChat,\n                author: name\n            }))\n            setInputMessage('')\n        }\n\n    }\n\n    return (\n        <div className={styles.wrap}>\n            <div className={styles.chats}>\n                <span className={cn(styles.chatName, {[styles.chatNameActive]: 'work' === currentChat})}\n                      onClick={() => handleClickChat('work')}>Work</span>\n                <span className={cn(styles.chatName, {[styles.chatNameActive]: 'flood' === currentChat})}\n                      onClick={() => handleClickChat('flood')}>Flood</span>\n                <span className={styles.nameUser}>{name}</span>\n            </div>\n            <div className={styles.messageBlock}>{content}</div>\n            <div className={styles.inputBlock}>\n                <input className={styles.inputMessage} onKeyPress={(e) => handleKeyPress(e.key)} type=\"text\"\n                       placeholder={'введите сообщение и нажмите Enter'}\n                       onChange={(e) => handleInputMessage(e.currentTarget.value)}\n                       value={inputMessage}\n                />\n            </div>\n\n        </div>\n    );\n};\n\nexport default Chat;\n","import React from 'react';\nimport {Redirect} from 'react-router-dom';\nimport {useSelector} from \"react-redux\";\nimport {RootStateType} from \"../../app/store\";\nimport {userInitTypeState} from \"../../reducers/user\";\nimport Chat from \"./Chat\";\nimport styles from './styles.module.css'\nconst Network = () => {\n    const {name} = useSelector<RootStateType, userInitTypeState>(state => state.user)\n    if (!name) {\n        return <Redirect to={'/'}/>\n    }\n\n    return (\n        <div className={styles.wrap}>\n            <Chat/>\n        </div>\n    );\n};\n\nexport default Network;\n","const SET_IS_INIT = 'SET_IS_INIT'\n\nconst initialState: appInitTypeState = {\n    isInit: false\n}\n\nexport const appReducer = (state: appInitTypeState = initialState, action: ActionType): appInitTypeState => {\n    switch (action.type) {\n        case \"SET_IS_INIT\": {\n            return {...state, isInit: true}\n        }\n        default:\n            return state\n    }\n}\n\nexport const setIsInit = () => {\n    return {type: SET_IS_INIT} as const\n}\n\ntype ActionType =\n    |ReturnType<typeof setIsInit>\n\n\nexport type appInitTypeState = {\n    isInit: boolean\n}\n\n","import React from 'react';\nimport {BrowserRouter as Router, Route, Switch} from 'react-router-dom'\nimport UnRegister from \"./components/UnRegister\";\nimport Network from \"./components/Network\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {RootStateType} from \"./app/store\";\nimport {appInitTypeState, setIsInit} from \"./reducers/app\";\nimport {setMessages} from \"./reducers/user\";\nimport messagesDb from './db/messages.json'\n\nfunction App() {\n    const {isInit} = useSelector<RootStateType, appInitTypeState>(state => state.app)\n    const dispatch = useDispatch()\n    if (!isInit) {\n        dispatch(setMessages(messagesDb))\n        dispatch(setIsInit())\n    }\n    return (\n        <Router>\n            <div>\n                <Switch>\n                    <Route exact path={'/'}><UnRegister/></Route>\n                    <Route path={'/network'}><Network/></Route>\n                </Switch>\n            </div>\n        </Router>\n    );\n}\n\nexport default App;\n","import {combineReducers, createStore} from \"redux\";\nimport { appReducer } from \"../reducers/app\";\nimport { userReducer } from \"../reducers/user\";\n\nconst rootReducer = combineReducers({\n    user: userReducer,\n    app: appReducer\n})\nexport const store = createStore(rootReducer)\n\nexport type RootStateType = ReturnType<typeof rootReducer>\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport {Provider} from \"react-redux\";\nimport {store} from './app/store';\n\nReactDOM.render(\n    <React.StrictMode>\n        <Provider store={store}>\n            <App/>\n        </Provider>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n"],"sourceRoot":""}